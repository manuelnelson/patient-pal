{"version":3,"sources":["../../src/server/tests/misc.test.js"],"names":["config","includeStack","describe","it","done","get","expect","NOT_FOUND","then","res","body","message","to","equal","catch","INTERNAL_SERVER_ERROR"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,eAAKA,MAAL,CAAYC,YAAZ,GAA2B,IAA3B;;AAEAC,SAAS,SAAT,EAAoB,YAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,aAAS,gBAAT,EAA2B,YAAM;AAC7BC,WAAG,0BAAH,EAA+B,UAACC,IAAD,EAAU;AACrC,sDACCC,GADD,CACK,UADL,EAECC,MAFD,CAEQ,qBAAWC,SAFnB,EAGCC,IAHD,CAGM,UAACC,GAAD,EAAS;AACX,kCAAOA,IAAIC,IAAJ,CAASC,OAAhB,EAAyBC,EAAzB,CAA4BC,KAA5B,CAAkC,WAAlC;AACAT;AACH,aAND,EAOCU,KAPD,CAOOV,IAPP;AAQH,SATD;AAUH,KAXD;;AAaAF,aAAS,kBAAT,EAA6B,YAAM;AAC/BC,WAAG,4DAAH,EAAiE,UAACC,IAAD,EAAU;AACvE,sDACCC,GADD,CACK,0BADL,EAECC,MAFD,CAEQ,qBAAWS,qBAFnB,EAGCP,IAHD,CAGM,UAACC,GAAD,EAAS;AACX,kCAAOA,IAAIC,IAAJ,CAASC,OAAhB,EAAyBC,EAAzB,CAA4BC,KAA5B,CAAkC,uBAAlC;AACAT;AACH,aAND,EAOCU,KAPD,CAOOV,IAPP;AAQH,SATD;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAzBD;AA0BH,CArDD","file":"misc.test.js","sourcesContent":["import request from 'supertest';\r\nimport httpStatus from 'http-status';\r\nimport chai, { expect } from 'chai';\r\nimport app from '../index';\r\n\r\nchai.config.includeStack = true;\r\n\r\ndescribe('## Misc', () => {\r\n    // describe('# GET /api/health-check', () => {\r\n    //     it('should return OK', (done) => {\r\n    //         request(app)\r\n    //         .get('/api/health-check')\r\n    //         .expect(httpStatus.OK)\r\n    //         .then((res) => {\r\n    //             expect(res.text).to.equal('OK');\r\n    //             done();\r\n    //         })\r\n    //         .catch(done);\r\n    //     });\r\n    // });\r\n\r\n    describe('# GET /api/404', () => {\r\n        it('should return 404 status', (done) => {\r\n            request(app)\r\n            .get('/api/404')\r\n            .expect(httpStatus.NOT_FOUND)\r\n            .then((res) => {\r\n                expect(res.body.message).to.equal('Not Found');\r\n                done();\r\n            })\r\n            .catch(done);\r\n        });\r\n    });\r\n\r\n    describe('# Error Handling', () => {\r\n        it('should handle mongoose CastError - Cast to ObjectId failed', (done) => {\r\n            request(app)\r\n            .get('/api/users/56z787zzz67fc')\r\n            .expect(httpStatus.INTERNAL_SERVER_ERROR)\r\n            .then((res) => {\r\n                expect(res.body.message).to.equal('Internal Server Error');\r\n                done();\r\n            })\r\n            .catch(done);\r\n        });\r\n\r\n        // it('should handle express validation error - username is required', (done) => {\r\n        //     request(app)\r\n        //     .post('/api/users')\r\n        //     .send({\r\n        //         mobileNumber: '1234567890'\r\n        //     })\r\n        //     .expect(httpStatus.BAD_REQUEST)\r\n        //     .then((res) => {\r\n        //         expect(res.body.message).to.equal('\"username\" is required');\r\n        //         done();\r\n        //     })\r\n        //     .catch(done);\r\n        // });\r\n    });\r\n});\r\n"]}