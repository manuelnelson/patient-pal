{"version":3,"sources":["../../src/server/seed/organization.js"],"names":["noEmail","find","email","$exists","update","organization","findOne","_id","exec","then","console","log","professional","save","savedOrganization","remove","x","catch","e","run","organizations","promiseArray","length","Promise","all","map"],"mappings":";;;;;;AAAA;;AAGA,SAASA,OAAT,GAAmB;AACf,WAAO,qBAAaC,IAAb,CAAkB,EAACC,OAAO,EAACC,SAAS,KAAV,EAAR,EAAlB,CAAP;AACH;;AAED,SAASC,MAAT,CAAgBC,YAAhB,EAA8B;AAC1B,WAAO,qBAAaC,OAAb,CAAqB,EAACD,cAAcA,aAAaE,GAA5B,EAArB,EACNC,IADM,GAENC,IAFM,CAED,wBAAgB;AAClBC,gBAAQC,GAAR,CAAY,KAAZ;AACAD,gBAAQC,GAAR,CAAYC,YAAZ;AACA,YAAGA,YAAH,EAAgB;AACZP,yBAAaH,KAAb,GAAqBU,aAAaV,KAAlC;AACA,mBAAOG,aAAaQ,IAAb,GAAoBJ,IAApB,CAAyB;AAAA,uBAAqBK,iBAArB;AAAA,aAAzB,CAAP;AACH,SAHD,MAII;AACA,mBAAOT,aAAaU,MAAb,GAAsBN,IAAtB,CAA2B;AAAA,uBAAGO,CAAH;AAAA,aAA3B,CAAP;AACH;AACJ,KAZM,EAaNC,KAbM,CAaA;AAAA,eAAKP,QAAQC,GAAR,CAAYO,CAAZ,CAAL;AAAA,KAbA,CAAP;AAcH;;AAED,SAASC,GAAT,CAAaC,aAAb,EAA2B;AACvB,QAAIC,eAAe,EAAnB;AACAX,YAAQC,GAAR,CAAYS,aAAZ;AACA,QAAGA,cAAcE,MAAd,IAAwB,CAA3B,EAA6B;AACzBC,gBAAQC,GAAR,CACIJ,cACKK,GADL,CACS;AAAA,mBAAgBrB,OAAOC,YAAP,CAAhB;AAAA,SADT,CADJ,EAGEI,IAHF,CAGO;AAAA,mBAAKC,QAAQC,GAAR,CAAY,0BAAZ,CAAL;AAAA,SAHP;AAIH;AACJ;;kBAEc,EAACX,gBAAD,EAAUmB,QAAV,E","file":"organization.js","sourcesContent":["import { Organization, Professional } from '../models';\r\n\r\n\r\nfunction noEmail() {    \r\n    return Organization.find({email: {$exists: false}});\r\n}\r\n\r\nfunction update(organization) {\r\n    return Professional.findOne({organization: organization._id})\r\n    .exec()\r\n    .then(professional => {\r\n        console.log('tet')\r\n        console.log(professional)\r\n        if(professional){\r\n            organization.email = professional.email;\r\n            return organization.save().then(savedOrganization => savedOrganization);\r\n        }\r\n        else{\r\n            return organization.remove().then(x=>x);\r\n        }\r\n    })\r\n    .catch(e => console.log(e))\r\n}\r\n\r\nfunction run(organizations){\r\n    let promiseArray = [];\r\n    console.log(organizations);\r\n    if(organizations.length != 0){\r\n        Promise.all(\r\n            organizations\r\n                .map(organization => update(organization))\r\n        ).then(()=> console.log('Stripe Information Added'))\r\n    }\r\n}\r\n\r\nexport default {noEmail, run}\r\n"]}